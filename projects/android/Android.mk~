LOCAL_PATH := $(call my-dir)/../../
#ANDROIDNDK_PATH := $(LOCAL_PATH)/../android-ndk-r8e
$(warning $(LOCAL_PATH))
$(warning $(ANDROIDNDK_PATH))
include $(CLEAR_VARS)

LOCAL_ARM_MODE := arm
$(info $(LOCAL_PATH))
LOCAL_CFLAGS	:= -Wall \
-W \
-O2 \
-pipe \
-fPIC \
-D__arm__ \
-D_REENTRANT \
-D_GLIBCXX__PTHREADS \
-fvisibility=hidden \
-fvisibility-inlines-hidden \
-fdata-sections \
-fexceptions \
-fno-use-cxa-atexit \
-Wno-multichar \
-frtti \
-D_ANDROID \
-Wno-unknown-pragmas \
-Wno-unused-variable \
$(info $(LOCAL_PATH))

LOCAL_MODULE    := ortc_android

LOCAL_C_INCLUDES:= \
$(LOCAL_PATH) \
$(LOCAL_PATH)/libs/op-services-cpp \
$(LOCAL_PATH)/libs/boost/projects/android/build/include/boost-1_53 \
$(LOCAL_PATH)/libs/zsLib \
$(LOCAL_PATH)/libs \
$(LOCAL_PATH)/libs/cryptopp/projects/android \
$(LOCAL_PATH)/libs/webrtc/webrtc/voice_engine/include \
$(LOCAL_PATH)/libs/webrtc \
$(LOCAL_PATH)/libs/webrtc/webrtc \
$(LOCAL_PATH)/libs/webrtc/webrtc/video_engine/include \
$(LOCAL_PATH)/libs/webrtc/webrtc/modules/video_capture/include \
$(ANDROIDNDK_PATH)/sources/cxx-stl/gnu-libstdc++/4.4.3/include \
$(ANDROIDNDK_PATH)/sources/cxx-stl/gnu-libstdc++/4.4.3/libs/armeabi/include \
$(ANDROIDNDK_PATH)/platforms/android-8/arch-arm/usr/include \

LOCAL_SRC_FILES := ortc/cpp/ortc.cpp \
ortc/cpp/ortc_Factory.cpp \
ortc/cpp/ortc_Helper.cpp \
ortc/cpp/ortc_ICETransport.cpp \
ortc/cpp/ortc_MediaEngine.cpp \
ortc/cpp/ortc_MediaManager.cpp \
ortc/cpp/ortc_MediaStream.cpp \
ortc/cpp/ortc_MediaStreamTrack.cpp \
ortc/cpp/ortc_ORTC.cpp \
ortc/cpp/ortc_RTCConnection.cpp \
ortc/cpp/ortc_RTCDataChannel.cpp \
ortc/cpp/ortc_RTCDTMFTrack.cpp \
ortc/cpp/ortc_RTCSocket.cpp \
ortc/cpp/ortc_RTCStream.cpp \
ortc/cpp/ortc_RTCTrack.cpp \

#$(info $(LOCAL_PATH))

LOCAL_LDLIBS := -L$(LOCAL_PATH)/libs/build/android/boost/lib -L$(LOCAL_PATH)/libs/build/android/cryptopp -L$(LOCAL_PATH)/libs/build/android/curl -L$(LOCAL_PATH)/libs/build/android/openssl -L$(LOCAL_PATH)/libs/build/android/op-services-cpp -L$(LOCAL_PATH)/libs/build/android/udns -L$(LOCAL_PATH)/libs/build/android/zsLib

#$(info $(LOCAL_PATH))
LOCAL_LDLIBS += -lboost_atomic-gcc-mt-1_53 -lboost_chrono-gcc-mt-1_53 -lboost_date_time-gcc-mt-1_53 -lboost_filesystem-gcc-mt-1_53 -lboost_graph-gcc-mt-1_53 -lboost_random-gcc-mt-1_53 -lboost_regex-gcc-mt-1_53 -lboost_signals-gcc-mt-1_53 -lboost_system-gcc-mt-1_53 -lboost_thread-gcc-mt-1_53 -lcrypto -lcryptopp -lcurl -lhfservices_android -lssl -ludns_android -lzslib_android

$(info $(LOCAL_PATH))		
$(info going to build static)
$(info $(ANDROIDNDK_PATH))	
include $(BUILD_STATIC_LIBRARY)

